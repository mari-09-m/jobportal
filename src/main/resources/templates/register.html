<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up - MWebJobs</title>

    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        /* Use Inter as the default font */
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Custom styles for the logo */
        .logo-com {
            background-color: #fb4f14;
        }
    </style>
</head>
<body class="bg-gray-50">

<!-- Main container: stacks vertically on mobile, horizontally on medium+ screens -->
<div class="min-h-screen flex flex-col md:flex-row">
    <!-- Left Pane: Image and Logo (Visible on medium screens and up) -->
    <div class="hidden md:flex md:w-1/2 lg:w-2/3 bg-cover bg-center relative" style="background-image: url('https://placehold.co/1200x800/002244/FFFFFF?text=Join Us');">
        <div class="absolute inset-0 bg-blue-900 bg-opacity-50"></div>
        <div class="relative p-8 md:p-12">
            <h2 class="text-3xl font-bold text-white">MWebJobs<span class="logo-com text-white px-2 py-1 rounded-md ml-1">.com</span></h2>
        </div>
    </div>


    <!-- Right Pane: Sign Up Form. Takes full width and grows to fill available space on mobile -->
    <div class="w-full md:w-1/2 lg:w-1/3 flex items-center justify-center p-6 sm:p-12 flex-grow">
        <div class="w-full max-w-md">
            <!-- Logo for mobile view -->
            <div class="md:hidden mb-8 text-center">
                <h2 class="text-3xl font-bold text-gray-800">MWebJobs<span class="logo-com text-white px-2 py-1 rounded-md ml-1">.com</span></h2>
            </div>

            <h1 class="text-3xl font-bold text-gray-900 mb-2 mt-8 md:mt-0">Create Account</h1>
            <p class="text-gray-600 mb-8">Get started by creating your new account.</p>

            <form th:action="@{/register/new}" th:object="${user}" method="post">
                <!-- Error message display placeholder -->
                <div th:if="${error}" class="mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg" role="alert">
                    <p th:text="${error}">Error message will be displayed here.</p>
                </div>

                <!-- Email Input -->
                <div class="mb-4">
                    <label for="email" class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                    <input
                            id="email"
                            placeholder="you@example.com"
                            name="email"
                            th:field="*{email}"
                            type="email"
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition duration-200"
                            required
                    />
                </div>

                <!-- Password Input -->
                <div class="mb-4">
                    <label for="password" class="block text-sm font-medium text-gray-700 mb-2">Password</label>
                    <input
                            id="password"
                            placeholder="Create a password (min. 8 characters)"
                            name="password"
                            th:field="*{password}"
                            type="password"
                            minlength="8"
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition duration-200"
                            required
                    />
                </div>

                <!-- User Type Selector -->
                <div class="mb-6">
                    <label for="userType" class="block text-sm font-medium text-gray-700 mb-2">I am a...</label>
                    <select
                            id="userType"
                            required
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition duration-200 bg-white"
                            th:field="*{userTypeId}"
                    >
                        <th:block th:each="userType :${getAllTypes}">
                            <option
                                    th:text="${userType.userTypeName}"
                                    th:value="${userType.userTypeId}"
                            ></option>
                        </th:block>
                    </select>
                </div>

                <!-- Save Button -->
                <div class="form-group">
                    <button type="submit" class="w-full bg-orange-500 text-white font-bold py-3 px-4 rounded-lg hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 transition duration-200">
                        Create Account
                    </button>
                </div>
            </form>

            <!-- Login Link -->
            <p class="text-center text-sm text-gray-600 mt-8">
                Already have an account?
                <a href="/login" class="font-medium text-orange-600 hover:text-orange-500">
                    Log in
                </a>
            </p>
        </div>
    </div>
</div>

</body>
</html>
